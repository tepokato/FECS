<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/image.png">
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="styles/main.css">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FedEx Equipment Check-Out System</title>
</head>
<body>

  <!-- Header Section with App Icon and Name -->
  <header class="site-header">
    <h1>FECS</h1>
    <img class="site-logo" src="images/image.png" alt="FECS logo">
    <div class="app-name">FedEx Equipment Check-Out System</div>
  </header>

  <!-- Notification Banner -->
  <div id="notifications" role="alert" aria-live="polite"></div>

  <!-- Navigation -->
  <nav id="mainNav">
    <ul class="nav-container">
      <li><a href="#" id="navCheckout" data-section="checkout" class="btn btn-primary"><span class="material-symbols-outlined nav-icon" aria-hidden="true">barcode_reader</span> Check-Out</a></li>
      <li><a href="#" id="navAdmin" data-section="admin" class="btn btn-primary"><span class="material-symbols-outlined nav-icon" aria-hidden="true">admin_panel_settings</span> Admin</a></li>
      <li><a href="#" id="navRecords" data-section="records" class="btn btn-primary"><span class="material-symbols-outlined nav-icon" aria-hidden="true">data_table</span>Records</a></li>
    </ul>
  </nav>

  <!-- Check-Out Section -->
  <section id="checkout" class="section">
    <h2>Equipment Check-Out/In</h2>
    <form id="checkoutForm">
      <label for="badge">Employee Badge ID:</label>
      <div class="employeeRow">
        <input type="text" id="badge" placeholder="Enter Employee Badge ID" required autofocus aria-describedby="badgeError">
        <span id="badgeError" class="error-message" aria-live="polite"></span>
        <span id="employeeName"></span>
      </div>
      <label for="equipment">Equipment Barcodes:</label>
      <div id="equipmentList">
        <div class="equipment-item">
          <div class="equipmentRow">
            <input type="text" id="equipment0" name="equipment" placeholder="Enter Equipment Barcode" required aria-describedby="equipment0Error">
            <span id="equipment0Error" class="error-message" aria-live="polite"></span>
            <span class="equipmentNameDisplay"></span>
          </div>
          <button type="button" class="removeEquipment hidden btn btn-danger">Remove</button>
        </div>
      </div>
      <button type="button" id="addEquipmentBtn" class="btn btn-primary">Add Another Barcode</button>
      <label for="actionBtn">Action:</label>
      <div class="dropdown">
        <button type="button" id="actionBtn" class="btn btn-inline btn-primary" aria-haspopup="true" aria-expanded="false" aria-controls="actionMenu">Select Action</button>
        <div id="actionMenu" class="dropdown-menu hidden" role="menu">
          <button type="button" data-value="Check-Out" role="menuitem">Check-Out</button>
          <button type="button" data-value="Check-In" role="menuitem">Check-In</button>
        </div>
      </div>
      <input type="hidden" id="action">
      <button type="submit" class="btn btn-primary btn-block">Submit</button>
    </form>
  </section>

  <!-- Admin Panel Section -->
  <section id="admin" class="section hidden admin">
    <h2>Admin Panel</h2>
    <form id="adminForm">
      <div>
        <label for="empName">Employee Name:</label>
        <input type="text" id="empName" placeholder="Enter Employee Name" required aria-describedby="empNameError">
        <span id="empNameError" class="error-message" aria-live="polite"></span>
      </div>
      <div>
        <label for="empBadge">Employee Badge ID:</label>
        <input type="text" id="empBadge" placeholder="Enter Badge ID" required aria-describedby="empBadgeError">
        <span id="empBadgeError" class="error-message" aria-live="polite"></span>
      </div>
      <div>
        <label for="empStation">Home Station:</label>
        <input type="text" id="empStation" placeholder="Enter Home Station" required aria-describedby="empStationError">
        <span id="empStationError" class="error-message" aria-live="polite"></span>
      </div>
      <button type="submit" id="addEmployeeBtn" class="btn btn-primary btn-block">Add Employee</button>
    </form>
    <h3>Current Employees</h3>
    <label for="employeeSearch" class="sr-only">Search employees</label>
    <input type="text" id="employeeSearch" placeholder="Search employees">
    <div class="list-container">
      <ul id="employeeList"><li class="placeholder">No employees added yet.</li></ul>
    </div>
    <div class="pagination-controls">
      <button type="button" id="employeePrev" class="btn btn-inline hidden btn-primary" aria-label="Previous page"><span class="material-symbols-outlined" aria-hidden="true">chevron_left</span></button>
      <span id="employeePageIndicator" class="page-indicator"></span>
      <button type="button" id="employeeNext" class="btn btn-inline btn-primary" aria-label="Next page"><span class="material-symbols-outlined" aria-hidden="true">chevron_right</span></button>
    </div>
    <hr>
    <h2>Manage Equipment</h2>
    <form id="equipmentAdminForm">
      <div>
        <label for="equipName">Equipment Name:</label>
        <input type="text" id="equipName" placeholder="Enter Equipment Name" required aria-describedby="equipNameError">
        <span id="equipNameError" class="error-message" aria-live="polite"></span>
      </div>
      <div>
        <label for="equipSerial">Equipment Serial Number:</label>
        <input type="text" id="equipSerial" placeholder="Enter Equipment Serial" required aria-describedby="equipSerialError">
        <span id="equipSerialError" class="error-message" aria-live="polite"></span>
      </div>
      <div>
        <label for="equipStation">Home Station:</label>
        <input type="text" id="equipStation" placeholder="Enter Home Station" required aria-describedby="equipStationError">
        <span id="equipStationError" class="error-message" aria-live="polite"></span>
      </div>
      <button type="submit" id="addEquipmentAdminBtn" class="btn btn-primary btn-block">Add Equipment</button>
    </form>
    <h3>Current Equipment</h3>
    <label for="equipmentSearch" class="sr-only">Search equipment</label>
    <input type="text" id="equipmentSearch" placeholder="Search equipment">
    <div class="list-container">
      <ul id="equipmentListAdmin"><li class="placeholder">No equipment added yet.</li></ul>
    </div>
    <div class="pagination-controls">
      <button type="button" id="equipmentPrev" class="btn btn-inline hidden btn-primary" aria-label="Previous page"><span class="material-symbols-outlined" aria-hidden="true">chevron_left</span></button>
      <span id="equipmentPageIndicator" class="page-indicator"></span>
      <button type="button" id="equipmentNext" class="btn btn-inline btn-primary" aria-label="Next page"><span class="material-symbols-outlined" aria-hidden="true">chevron_right</span></button>
    </div>

    <!-- New Import/Export Section -->
    <hr>
    <div class="mb-15">
      <div class="dropdown">
        <button type="button" class="btn btn-inline btn-primary" id="importExportBtn" aria-haspopup="true" aria-expanded="false" aria-controls="importExportMenu">Import/Export</button>
        <div id="importExportMenu" class="dropdown-menu hidden" role="menu">
          <button type="button" id="exportEmployeesAction" role="menuitem">Export Employees to CSV</button>
          <button type="button" id="importEmployeesAction" role="menuitem">Import Employees CSV</button>
          <button type="button" id="exportEquipmentAction" role="menuitem">Export Equipment to CSV</button>
          <button type="button" id="importEquipmentAction" role="menuitem">Import Equipment CSV</button>
        </div>
      </div>
      <input type="file" id="importEmployeesFile" accept=".csv" class="hidden">
      <input type="file" id="importEquipmentFile" accept=".csv" class="hidden">
    </div>
  </section>

  <!-- Records Section -->
  <section id="records" class="section hidden">
    <h2>Check-Out/In Records</h2>
    <div class="records-container">

      <form id="recordFilterForm">
        <label for="recordSearch" class="sr-only">Search by name or badge</label>
        <input type="text" id="recordSearch" placeholder="Search by name or badge">
        <label for="recordEquipment" class="sr-only">Search by equipment name or serial</label>
        <input type="text" id="recordEquipment" placeholder="Search by equipment name or serial">
        <label for="recordDate" class="sr-only">Filter by date</label>
        <div class="recordDateContainer">
          <input type="text" id="recordDate" placeholder="Date">
          <button id="recordDateBtn" type="button"><span class="material-symbols-outlined">calendar_month</span></button>
        </div>
        <button type="submit" id="filterRecordsBtn" class="btn btn-secondary">Search/Filter</button>
        <button type="button" id="clearFiltersBtn" class="btn btn-secondary">Clear Filters</button>
      </form>
      <button type="button" id="exportRecordsBtn" class="btn btn-primary">Export Records to CSV</button>
      <div id="recordsTable"></div>
    </div>
  </section>

  <!-- JavaScript -->
  <script src="scripts/storage.js"></script>
  <script src="scripts/notifications.js"></script>
  <script src="scripts/admin.js"></script>
  <script src="scripts/csvParser.js"></script>
  <script src="scripts/records.js"></script>
  <script src="scripts/app.js"></script>
</body>
</html>





