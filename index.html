<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Favicon -->
  <link id="favicon" rel="icon" href="">
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="styles/main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FedEx Equipment Check-Out System</title>
  <style>
    #employeeList .deleteEmployee {
      margin-left: 0.5rem;
      cursor: pointer;
      color: red;
    }
  </style>
</head>
<body>

  <!-- Header Section with App Icon and Name -->
  <header class="site-header">
    <h1>FECS</h1>
    <div class="site-logo"></div>
    <div class="app-name">FedEx Equipment Check-Out System</div>
  </header>

  <!-- Notification Banner -->
  <div id="notifications"></div>

  <!-- Navigation -->
  <button id="navToggle" class="nav-toggle">Menu</button>
  <nav>
    <a href="#" id="navCheckout">Check-Out</a>
    <a href="#" id="navAdmin">Admin</a>
    <a href="#" id="navRecords">Records</a>
  </nav>

  <!-- Check-Out Section -->
  <section id="checkout" class="section">
    <h2>Equipment Check-Out/In</h2>
    <form id="checkoutForm">
      <label for="badge">Employee Badge ID:</label>
      <div class="employeeRow">
        <input type="text" id="badge" placeholder="Enter Employee Badge ID" required autofocus>
        <span id="employeeName"></span>
      </div>
      <label for="equipment">Equipment Barcodes:</label>
      <div id="equipmentList">
        <div class="equipment-item">
          <div class="equipmentRow">
            <input type="text" id="equipment0" name="equipment" placeholder="Enter Equipment Barcode" required>
            <span class="equipmentNameDisplay"></span>
          </div>
          <button type="button" class="removeEquipment hidden">Remove</button>
        </div>
      </div>
      <button type="button" id="addEquipmentBtn">Add Another Barcode</button>
      <label for="action">Action:</label>
      <select id="action" required>
        <option value="">Select Action</option>
        <option value="Check-Out">Check-Out</option>
        <option value="Check-In">Check-In</option>
      </select>
      <button type="submit">Submit</button>
    </form>
  </section>

  <!-- Admin Panel Section -->
  <section id="admin" class="section hidden admin">
    <h2>Admin Panel</h2>
    <form id="adminForm">
      <div>
        <label for="empName">Employee Name:</label>
        <input type="text" id="empName" placeholder="Enter Employee Name" required>
      </div>
      <div>
        <label for="empBadge">Employee Badge ID:</label>
        <input type="text" id="empBadge" placeholder="Enter Badge ID" required>
      </div>
      <button type="button" id="addEmployeeBtn">Add Employee</button>
    </form>
    <h3>Current Employees</h3>
    <input type="text" id="employeeSearch" placeholder="Search employees">
    <div class="list-container">
      <ul id="employeeList"></ul>
    </div>
    <button type="button" id="employeePrev">Prev</button>
    <button type="button" id="employeeNext">Next</button>
    <hr>
    <h2>Manage Equipment</h2>
    <form id="equipmentAdminForm">
      <div>
        <label for="equipName">Equipment Name:</label>
        <input type="text" id="equipName" placeholder="Enter Equipment Name" required>
      </div>
      <div>
        <label for="equipSerial">Equipment Serial Number:</label>
        <input type="text" id="equipSerial" placeholder="Enter Equipment Serial" required>
      </div>
      <button type="button" id="addEquipmentAdminBtn">Add Equipment</button>
      <button type="button" id="removeEquipmentAdminBtn">Remove Equipment</button>
    </form>
    <h3>Current Equipment</h3>
    <input type="text" id="equipmentSearch" placeholder="Search equipment">
    <div class="list-container">
      <ul id="equipmentListAdmin"></ul>
    </div>
    <button type="button" id="equipmentPrev">Prev</button>
    <button type="button" id="equipmentNext">Next</button>
    
    <!-- New Import/Export Section -->
    <hr>
    <h2>Inventory Import/Export</h2>
      <div class="mb-15">
      <h3>Employees</h3>
      <button type="button" class="btn-inline" id="exportEmployeesBtn">Export Employees to CSV</button>
      <button type="button" class="btn-inline" id="importEmployeesBtn">Import Employees CSV</button>
        <!-- Hidden file input for employees -->
        <input type="file" id="importEmployeesFile" accept=".csv" class="hidden">
    </div>
      <div class="mb-15">
      <h3>Equipment</h3>
      <button type="button" class="btn-inline" id="exportEquipmentBtn">Export Equipment to CSV</button>
      <button type="button" class="btn-inline" id="importEquipmentBtn">Import Equipment CSV</button>
        <!-- Hidden file input for equipment -->
        <input type="file" id="importEquipmentFile" accept=".csv" class="hidden">
    </div>
  </section>

  <!-- Records Section -->
  <section id="records" class="section hidden">
    <h2>Check-Out/In Records</h2>
    <div class="records-container">
      <form id="recordFilterForm">
        <label for="recordSearch" class="sr-only">Search by name or badge</label>
        <input type="text" id="recordSearch" placeholder="Search by name or badge">
        <label for="recordEquipment" class="sr-only">Search by equipment name or serial</label>
        <input type="text" id="recordEquipment" placeholder="Search by equipment name or serial">
        <label for="recordDate" class="sr-only">Filter by date</label>
        <input type="date" id="recordDate">
        <button type="button" id="filterRecordsBtn">Search/Filter</button>
        <button type="button" id="clearFiltersBtn">Clear Filters</button>
      </form>
      <button type="button" id="exportRecordsBtn">Export Records to CSV</button>
      <div id="recordsTable"></div>
    </div>
  </section>

  <!-- JavaScript -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const fav = getComputedStyle(document.documentElement)
        .getPropertyValue('--favicon-data')
        .replace(/^url("?|"?)$/g, '')
        .trim();
      document.getElementById('favicon').href = fav;
    });
  </script>
  <script src="scripts/csvParser.js"></script>
  <script src="scripts/app.js"></script>
</body>
</html>
